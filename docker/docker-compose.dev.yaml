services:
  crisalid-bus:
    image: rabbitmq:3-management
  # neo4j (graph database)
  neo4j:
    image: neo4j:5-community
  # IKG (knowledge graph management)
  crisalid-org-registry:
    image: crisalidesr/crisalid-org-registry:dev
  crisalid-ikg:
    image: crisalidesr/crisalid-ikg:dev
    environment:
      - APP_ENV=DEV
  # Ofelia (cron-like task scheduler)
  crisalid-ofelia:
    image: mcuadros/ofelia:0.3
  # crisalid-bus (message broker)
  # harvester (publication harvester)
  svp-jel-proxy:
    image: crisalidesr/svp-jel-proxy:latest
  harvester-redis:
    image: redis:7
  harvester-worker:
    image: crisalidesr/svp-harvester:dev
    environment:
      - APP_ENV=DEV
  harvester-ui:
    image: crisalidesr/svp-harvester:dev
    environment:
      - APP_ENV=DEV
  harvester-db:
    image: postgres:16
  # apollo (GraphQL API)
  apollo:
    image: crisalidesr/crisalid-apollo:dev
    environment:
      - APP_ENV=DEV
  # Crisalid directory bridge (Airflow DAGs)
  cdb-postgres:
    image: postgres:16
  cdb-redis:
    image: redis:7.2-bookworm
  cdb-data-versioning-redis:
    image: redis:7.2-bookworm
  airflow-apiserver:
    image: apache/airflow:3.1.7
  airflow-scheduler:
    image: apache/airflow:3.1.7
  airflow-dag-processor:
    image: apache/airflow:3.1.7
  airflow-worker:
    image: apache/airflow:3.1.7
  airflow-triggerer:
    image: apache/airflow:3.1.7
  airflow-init:
    image: apache/airflow:3.1.7
  airflow-cli:
    image: apache/airflow:3.1.7
  flower:
    image: apache/airflow:3.1.7
  # Sovisuplus (scientific output and researcher identifiers)
  svp-db:
    image: postgres:16
  sovisuplus:
    image: crisalidesr/sovisuplus:dev
  sovisuplus-maintenance:
    image: crisalidesr/crisalid-maintenance:latest
  # Keycloak (identity and access management)
  keycloak-db:
    image: postgres:16
  keycloak:
    image: quay.io/keycloak/keycloak:26.5.4
  keycloak-tls:
    image: quay.io/keycloak/keycloak:26.5.4